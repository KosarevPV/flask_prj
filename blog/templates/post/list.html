{% extends 'base.html' %}

{% block title %}
Post list
{% endblock %}

{% block body %}
<div class="row">
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <div class="alert alert-success" role="alert">
        {{ messages[0] }}
    </div>
    {% endif %}
    {% endwith %}

    <div class="col">
        <ul>
            {% for post in posts %}
            <li>
                <a href="{{url_for('post.details', post_id=post.id)}}">{{ post.title }}</a>
                by {{ post.author.user.username }}
            </li>
            {% endfor %}
        </ul>
        <hr>
        <a href="{{ url_for('post.create') }}">Create new</a>
    </div>
</div>

{% endblock %}